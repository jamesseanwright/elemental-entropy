d=new AudioContext,f=0,g=0,h=0,l=[],m=0,n=["#f60","#088"];function p(e){e=e||{};b=!(Math.random()+.5|0),k=e.b||25,r=e.x||(b?800*Math.random():Math.random()+.5|0?800+k:0-k),b=e.y||(b?Math.random()+.5|0?480+k:0-k:Math.random()+.5|0?480-(80-80*Math.random()):80-80*Math.random());e={f:e.f,x:r,y:b,g:e.f?0:(400-r)/400*5,h:e.f?0:(240-b)/240*3,b:k,fill:e.f?"#00f":n[Math.random()*n.length|0]};l.push(e);return e}
a.onmousemove=function(e){100<e.clientX&&700>e.clientX&&(h=(e.clientX-800)/800*Math.PI*2+Math.PI)};q=p({f:!0,b:45,x:400,y:240});
function t(e){c.fillStyle="#000";c.fillRect(0,0,800,480);e-m>=1500-100*g&&(p(),m=e);for(b in l)l[b]&&(c.fillStyle=l[b].fill,c.shadowColor=l[b].fill,c.shadowBlur=100,c.beginPath(),c.arc(l[b].x,l[b].y,l[b].b,0,2*Math.PI),c.fill(),l[b]!==q&&(l[b].x+=l[b].g,l[b].y+=l[b].h,q&&Math.sqrt((q.x-l[b].x)*(q.x-l[b].x)+(q.y-l[b].y)*(q.y-l[b].y))<q.b+l[b].b&&(q=l[l.indexOf(q)]=void 0,e=d.createOscillator(),e.frequency.value=150,e.connect(d.destination),e.start(d.currentTime),e.stop(d.currentTime+2)),q&&!l[b].i&&
Math.sqrt((400-l[b].x)*(400-l[b].x)+(240-l[b].y)*(240-l[b].y))<75+l[b].b&&Math.atan2(l[b].y-240,l[b].x-400)>=h-Math.PI/4&&Math.atan2(l[b].y-240,l[b].x-400)<=h+Math.PI/4&&(l[b].i=!0,l[b].g=-1*l[b].g,l[b].h=-1*l[b].h,f+=10,0===f%100&&g++,e=d.createOscillator(),e.frequency.value=190,e.connect(d.destination),e.start(d.currentTime),e.stop(d.currentTime+.1)),l[b].x>800+l[b].b+1||l[b].x<0-(l[b].b+1)||l[b].y>480+l[b].b+1||l[b].y<0-(l[b].b+1)))&&(l[b]=void 0);c.strokeStyle="#fff";c.beginPath();c.arc(400,240,
75,h-Math.PI/4,h+Math.PI/4);c.stroke();c.fillStyle="#fff";c.font="26px Arial";c.fillText(f,20,40);requestAnimationFrame(t)}t();
